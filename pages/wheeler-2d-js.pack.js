var wheeler;wheeler=(()=>{"use strict";var t={702:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Angle=void 0;var n=r(698),o=function(){function t(){}return t.fromRad=function(t){return new n.Vector(Math.cos(t),Math.sin(t))},t.fromDegre=function(t){return this.fromRad(t/180*Math.PI)},t.getRad=function(t){return t.y>=0?Math.acos(t.x):-Math.acos(t.x)},t.getDegre=function(e){return 180*t.getRad(e)/Math.PI},t}();e.Angle=o},231:function(t,e,r){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Car=void 0;var i=r(698),c=function(t){function e(e,r){void 0===e&&(e=new i.Vector(0,0)),void 0===r&&(r=new i.Vector(1,0));var n=t.call(this,e,r)||this;return n.velocity=0,n.helm=new i.Vector(1,0),n}return o(e,t),e.prototype.update=function(t){var e=this.helm.mul(this.velocity*t),r=this.getAbsolute(e).sub(this.position);this.pull(r)},e}(r(275).Vehicle);e.Car=c},590:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LineObstacle=e.Car=e.Vehicle=e.Vector=e.Angle=void 0;var n=r(702);Object.defineProperty(e,"Angle",{enumerable:!0,get:function(){return n.Angle}});var o=r(698);Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return o.Vector}});var i=r(275);Object.defineProperty(e,"Vehicle",{enumerable:!0,get:function(){return i.Vehicle}});var c=r(231);Object.defineProperty(e,"Car",{enumerable:!0,get:function(){return c.Car}});var u=r(721);Object.defineProperty(e,"LineObstacle",{enumerable:!0,get:function(){return u.LineObstacle}})},721:function(t,e,r){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineObstacle=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.reflect=function(t){var e=this.getRelative(t).div(this.direction.length2());return e.y=-e.y,this.getAbsolute(e)},e.prototype.reflectMovement=function(t,e){var r=this.getRelative(t),n=this.getRelative(e);if(r.y*n.y>0)return e;var o=this.direction.length2();if(r.x<0&&n.x<0||r.x>o&&n.x>o)return e;r.y,r.x,n.x,n.y,r.y;var i=n.div(o);return i.y=-i.y,this.getAbsolute(i)},e}(r(279).Movable);e.LineObstacle=i},279:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Movable=void 0;var n=r(698),o=function(){function t(t,e){void 0===t&&(t=new n.Vector(0,0)),void 0===e&&(e=new n.Vector(1,0)),this.position=t,this.direction=e}return t.prototype.getRelative=function(t){var e=t.x-this.position.x,r=t.y-this.position.y,o=e*this.direction.x+r*this.direction.y,i=-e*this.direction.y+r*this.direction.x;return new n.Vector(o,i)},t.prototype.getAbsolute=function(t){var e=t.x*this.direction.x-t.y*this.direction.y+this.position.x,r=t.x*this.direction.y+t.y*this.direction.x+this.position.y;return new n.Vector(e,r)},t.prototype.reflect=function(t,e){var r=this.getRelative(t),n=this.getRelative(e);if(console.log("p1r, p2r",r,n),r.y*n.y>0)return e;var o=this.direction.length2();if(r.x<0&&n.x<0||r.x>o&&n.x>o)return e;var i=r.y*(r.x-n.x),c=n.y-r.y;if(console.log("up, down",i,c),i*c<0||i>c)return e;var u=n.div(o);return u.y=-u.y,this.getAbsolute(u)},t}();e.Movable=o},698:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=void 0;var r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.mul=function(e){return new t(this.x*e,this.y*e)},t.prototype.div=function(e){return new t(this.x/e,this.y/e)},t.prototype.normalize=function(){return this.mul(1/this.length())},t.prototype.length2=function(){return this.x*this.x+this.y*this.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t}();e.Vector=r},275:function(t,e,r){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Vehicle=void 0;var i=r(698),c=function(t){function e(e,r){void 0===e&&(e=new i.Vector(0,0)),void 0===r&&(r=new i.Vector(1,0));var n=t.call(this,e,r)||this;return n.axis=-3,n.tender=null,n}return o(e,t),e.prototype.pull=function(t){var e=new i.Vector;this.tender&&(e=this.getRelative(this.tender.position)),this.position=this.position.add(t);var r=this.direction.mul(-this.axis);if(this.direction=r.add(t).normalize(),this.tender){var n=this.getAbsolute(e).sub(this.tender.position);this.tender.pull(n)}},e}(r(279).Movable);e.Vehicle=c}},e={};return function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}(590)})();